(function(t){function e(e){for(var a,o,i=e[0],r=e[1],l=e[2],u=0,_=[];u<i.length;u++)o=i[u],Object.prototype.hasOwnProperty.call(s,o)&&s[o]&&_.push(s[o][0]),s[o]=0;for(a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a]);d&&d(e);while(_.length)_.shift()();return c.push.apply(c,l||[]),n()}function n(){for(var t,e=0;e<c.length;e++){for(var n=c[e],a=!0,o=1;o<n.length;o++){var r=n[o];0!==s[r]&&(a=!1)}a&&(c.splice(e--,1),t=i(i.s=n[0]))}return t}var a={},s={app:0},c=[];function o(t){return i.p+"static/js/"+({about:"about"}[t]||t)+"."+{about:"2c738046"}[t]+".js"}function i(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.e=function(t){var e=[],n=s[t];if(0!==n)if(n)e.push(n[2]);else{var a=new Promise((function(e,a){n=s[t]=[e,a]}));e.push(n[2]=a);var c,r=document.createElement("script");r.charset="utf-8",r.timeout=120,i.nc&&r.setAttribute("nonce",i.nc),r.src=o(t);var l=new Error;c=function(e){r.onerror=r.onload=null,clearTimeout(u);var n=s[t];if(0!==n){if(n){var a=e&&("load"===e.type?"missing":e.type),c=e&&e.target&&e.target.src;l.message="Loading chunk "+t+" failed.\n("+a+": "+c+")",l.name="ChunkLoadError",l.type=a,l.request=c,n[1](l)}s[t]=void 0}};var u=setTimeout((function(){c({type:"timeout",target:r})}),12e4);r.onerror=r.onload=c,document.head.appendChild(r)}return Promise.all(e)},i.m=t,i.c=a,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)i.d(n,a,function(e){return t[e]}.bind(null,a));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/",i.oe=function(t){throw console.error(t),t};var r=window["webpackJsonp"]=window["webpackJsonp"]||[],l=r.push.bind(r);r.push=e,r=r.slice();for(var u=0;u<r.length;u++)e(r[u]);var d=l;c.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"4cec":function(t,e,n){"use strict";n("b2fb")},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("f751"),n("097d");var a=n("2b0e"),s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("div",{attrs:{id:"nav"}}),n("router-view")],1)},c=[],o=n("2877"),i={},r=Object(o["a"])(i,s,c,!1,null,null,null),l=r.exports,u=n("8c4f"),d=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.task_if_value?n("Task"):t._e(),n("header",{staticClass:"cd-header"},[t._m(0),n("nav",{staticClass:"cd-primary-nav"},[n("ul",[t._m(1),n("li",[n("a",{staticStyle:{"text-decoration":"none"},attrs:{href:"#0"},on:{click:t.help_shown}},[t._v("帮助")])]),t._m(2),n("li",[n("a",{staticStyle:{"text-decoration":"none"},attrs:{href:"#0"},on:{click:t.task_btn}},[t._v("查看任务列表")])])])])]),t._m(3),n("div",{staticClass:"cd-secondary-nav"},[t._m(4),t._m(5),n("div",{staticStyle:{"text-align":"center","margin-top":"3px"}},[n("span",{staticStyle:{color:"white","background-color":"#101621","font-size":"xx-small",padding:"10px","border-radius":"0 0 10px 10px"}},[t._v("\n                  【已选设备-"+t._s(t.now_deviceName)+"】 【已选环境-"+t._s(t.now_env)+"】 【已选用例-"+t._s(t.now_cases_count)+"个】 【已选数据-"+t._s(t.now_data_name)+"】 【安装方式-"+t._s(t.now_apk_method)+"】\n              ")])])]),n("main",{staticClass:"cd-main-content"},[n("section",{staticClass:"cd-section cd-container",attrs:{id:"cd-placeholder-1"}},[n("h2",[t._v("1.选择设备")]),n("Device",{on:{upd:t.upd}})],1),n("section",{staticClass:"cd-section cd-container",attrs:{id:"cd-placeholder-2"}},[n("h2",[t._v("2.选择环境")]),n("Env",{on:{upe:t.upe}})],1),n("section",{staticClass:"cd-section cd-container",attrs:{id:"cd-placeholder-3"}},[n("h2",[t._v("3.选择脚本")]),n("Case",{on:{upc:t.upc}})],1),n("section",{staticClass:"cd-section cd-container",attrs:{id:"cd-placeholder-4"}},[n("h2",[t._v("4.选择数据")]),n("Date")],1),n("section",{staticClass:"cd-section cd-container",attrs:{id:"cd-placeholder-5"}},[n("h2",[t._v("5.选择apk包")]),n("Apk")],1)])],1)},_=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"cd-logo"}},[n("a",{staticStyle:{"text-decoration":"none"},attrs:{href:"#"}},[n("img",{staticStyle:{width:"100px"},attrs:{src:"/static/CSS_menu/img/logo.png",alt:"Logo"}})])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("li",[n("a",{staticStyle:{"text-decoration":"none"},attrs:{href:"http://localhost:8080/#/admin/",target:"_blank"}},[t._v("管理后台")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("li",[n("a",{staticStyle:{"text-decoration":"none"},attrs:{href:"#0"}},[t._v("下载本地调试包")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{attrs:{id:"cd-intro"}},[n("div",{attrs:{id:"cd-intro-tagline"}},[n("h1",[n("strong",[t._v(" Automatic platform")])]),n("a",{staticClass:"cd-btn",staticStyle:{"text-decoration":"none"},attrs:{href:"#"}},[t._v("开始执行")])])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("a",{staticClass:"cd-secondary-nav-trigger",staticStyle:{"text-decoration":"none"},attrs:{href:"#0"}},[t._v("Menu"),n("span")])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("nav",[n("ul",[n("li",[n("a",{staticStyle:{"text-decoration":"none"},attrs:{href:"#cd-placeholder-1"}},[n("b",[t._v("选择设备")]),n("span")])]),n("li",[n("a",{staticStyle:{"text-decoration":"none"},attrs:{href:"#cd-placeholder-2"}},[n("b",[t._v("选择环境")]),n("span")])]),n("li",[n("a",{staticStyle:{"text-decoration":"none"},attrs:{href:"#cd-placeholder-3"}},[n("b",[t._v("选择脚本")]),n("span")])]),n("li",[n("a",{staticStyle:{"text-decoration":"none"},attrs:{href:"#cd-placeholder-4"}},[n("b",[t._v("选择数据")]),n("span")])]),n("li",[n("a",{staticStyle:{"text-decoration":"none"},attrs:{href:"#cd-placeholder-5"}},[n("b",[t._v("选择apk包")]),n("span")])])])])}],v=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"list-group list-group-checkable"},[t._l(t.device_list,(function(e,a){return n("div",[n("input",{staticClass:"list-group-item-check",attrs:{type:"radio",id:"device_"+e.id,name:"listGroupCheckableRadios"},on:{click:function(n){return t.cd(e.name,e.id)}}}),n("label",{staticClass:"list-group-item py-3",style:{borderColor:t.getColor(e.state)},attrs:{for:"device_"+e.id}},[t._v("\n      "+t._s(e.id)+" . "+t._s(e.name)+"\n      "),n("span",{staticClass:"small opacity-50"},[t._v("\n                  系统版本："+t._s(e.pla)+" 　 当前状态："+t._s(e.state)+" 　 UDID："+t._s(e.udid)+"\n              ")])])])})),n("div",{staticClass:"btn-group"},[n("button",{staticClass:"btn btn-sm btn-outline-dark",attrs:{type:"button"},on:{click:function(e){return t.fix()}}},[t._v("重新授权")]),n("button",{staticClass:"btn btn-sm btn-outline-dark",attrs:{onclick:"alert('请手动检查设备数据线,开发者模式开关等情况！')",type:"button"}},[t._v("重新链接")]),n("button",{staticClass:"btn btn-sm btn-outline-dark",attrs:{onclick:"window.open('/admin/myapp/db_devices/')",type:"button"}},[t._v("管理设备\n    ")])])],2)},p=[],f=n("bc3a"),h=n.n(f),m={data:function(){return{device_list:[]}},mounted:function(){var t=this;h()({url:"http://localhost:8000/get_devices/"}).then((function(e){t.device_list=e.data.data}))},methods:{cd:function(t,e){this.$emit("upd",{now_deviceName:t,now_deviceId:e})},getColor:function(t){return"空闲中"==t?"green":"red"},fix:function(){var t=this;0==confirm("当adb devices发现手机未授权，且不弹出授权窗口情况下，才可以使用此功能\n注意！此功能会导致adb重启，使所有设备重连，所以请确保无其他设备正在执行任务！")&&h.a.get("/fix_devices/").then((function(e){alert("重新授权成功"),t.device_list=e.data.data}))}}},b=m,y=(n("4cec"),Object(o["a"])(b,v,p,!1,null,"0bec2848",null)),g=y.exports,x=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"task_div",attrs:{id:"task_id"}},[n("button",{staticClass:"btn btn-outline-dark",staticStyle:{float:"right"},on:{click:t.clos_test_div}},[t._v("关闭")]),n("h5",[t._v("当前平台所有任务")]),t._m(0)])},w=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("table",{staticClass:"table table-striped "},[n("thead",{staticClass:"table-dark"},[n("tr",[n("th",[t._v("任务描述")]),n("th",[t._v("启动时间")]),n("th",[t._v("当前状态")]),n("th",[t._v("操作")])])]),n("tbody",[n("tr",[n("td",[t._v("测试环境任务")]),n("td",[t._v("2022/2/26")]),n("td",[t._v("启动中")]),n("td",[n("a",{attrs:{href:""}},[t._v("终止")]),t._v(" 　\n        "),n("a",{attrs:{href:""}},[t._v("查看报告")])])]),n("tr",[n("td",[t._v("生产环境任务")]),n("td",[t._v("2022/2/22")]),n("td",[t._v("已关闭")]),n("td",[n("a",{attrs:{href:""}},[t._v("终止")]),t._v(" 　\n        "),n("a",{attrs:{href:""}},[t._v("查看报告")])])]),n("tr",[n("td",[t._v("预发布任务")]),n("td",[t._v("2022/2/16")]),n("td",[t._v("已延期")]),n("td",[n("a",{attrs:{href:""}},[t._v("终止")]),t._v(" 　\n        "),n("a",{attrs:{href:""}},[t._v("查看报告")])])])])])}],k={methods:{clos_test_div:function(){document.getElementById("task_id").style.display="none"}}},C=k,S=(n("fcc1"),Object(o["a"])(C,x,w,!1,null,null,null)),E=S.exports,j=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.now_env,expression:"now_env"}],staticClass:"form-control",attrs:{type:"text",placeholder:"请在此输入环境关键字"},domProps:{value:t.now_env},on:{input:function(e){e.target.composing||(t.now_env=e.target.value)}}}),n("br"),n("span",{staticStyle:{"font-size":"xx-small",color:"gray"}},[t._v("当前切换环境用脚本为：")]),t._v(t._s(t.env_script)+"\n  "),n("br"),n("br"),t._m(0)])},O=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("form",{attrs:{action:"http://localhost:8000/upload_env_script/",method:"post",enctype:"multipart/form-data"}},[n("input",{staticClass:"btn btn-outline-secondary btn-sm",staticStyle:{"border-radius":"5px 0 0 5px"},attrs:{name:"upload_env_script",type:"file"}}),n("button",{staticClass:"btn btn-outline-secondary",staticStyle:{"border-radius":"0 5px 5px 0"},attrs:{type:"submit"}},[t._v("上传")])])}],P={data:function(){return{env_script:"",now_env:""}},mounted:function(){var t=this;h.a.get("http://localhost:8000/get_env_script/").then((function(e){t.env_script=e.data}))},watch:{now_env:function(){this.$emit("upe",{now_env:this.now_env})}}},N=P,D=Object(o["a"])(N,j,O,!1,null,"778062a2",null),M=D.exports,T=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("table",{staticClass:"table table-striped table-bordered",staticStyle:{"text-align":"center"}},[n("thead",[n("tr",[n("th",[t._v("选中")]),n("th",[t._v("用例名称")]),n("th",[t._v("重要等级")]),n("th",[t._v("Unittest")]),n("th",[n("button",{staticClass:"btn btn-outline-primary btn-sm",on:{click:function(e){return t.add_cases()}}},[t._v("添加新脚本")])])])]),n("tbody",t._l(t.case_list,(function(e,a){return n("tr",[n("td",[n("input",{staticClass:"form-check-input",attrs:{type:"checkbox",name:"cccc",checked:""},domProps:{value:e.id},on:{click:t.tj_cases_count}})]),n("td",[t._v(t._s(e.name))]),n("td",[t._v(t._s(e.level))]),n("td",[t._v(t._s(e.ifut))]),n("td",[n("button",{staticClass:"btn btn-outline-success btn-sm",attrs:{"data-bs-toggle":"modal","data-bs-target":"#myModal"},on:{click:function(e){return t.set_cases(a)}}},[t._v("设置\n        ")]),t._v("\n         \n        "),n("button",{staticClass:"btn btn-outline-danger btn-sm",on:{click:function(n){return t.del_cases(e.id)}}},[t._v("删除")])])])})),0)]),n("div",{staticClass:"modal fade",attrs:{id:"myModal"}},[n("div",{staticClass:"modal-dialog modal-lg modal-dialog-centered"},[n("div",{staticClass:"modal-content"},[t._m(0),n("div",{staticClass:"modal-body"},[t._v("\n          name:\n          "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.chose_case.name,expression:"chose_case.name"}],staticClass:"form-control",attrs:{type:"text",placeholder:"用例名称"},domProps:{value:t.chose_case.name},on:{input:function(e){e.target.composing||t.$set(t.chose_case,"name",e.target.value)}}}),n("br"),t._v("\n          level:\n          "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.chose_case.level,expression:"chose_case.level"}],staticClass:"form-control",attrs:{type:"text",placeholder:"重要性"},domProps:{value:t.chose_case.level},on:{input:function(e){e.target.composing||t.$set(t.chose_case,"level",e.target.value)}}}),n("br"),t._v("\n          unittest:\n          "),n("input",{staticClass:"form-check-input",attrs:{type:"checkbox"},domProps:{checked:t.chose_case.ifut},on:{click:function(e){return t.check_ifut()}}}),n("br"),n("br"),t._v("\n          script: "),n("span",{staticStyle:{"font-size":"xx-small",color:"gray"}},[t._v("（当前脚本为："+t._s(t.chose_case.script)+"）")]),n("form",{attrs:{id:"form_cases",action:"http://localhost:8000/upload_case/"+t.chose_case.id+"/",method:"post",enctype:"multipart/form-data"}},[n("input",{staticClass:"btn btn-outline-secondary btn-sm",attrs:{type:"file",name:"upload_case_script"}})])]),n("div",{staticClass:"modal-footer"},[n("button",{staticClass:"btn btn-success",attrs:{type:"button","data-bs-dismiss":"modal"},on:{click:t.save_cases}},[t._v("保存")])])])])])])},A=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"modal-header"},[n("h4",{staticClass:"modal-title"},[t._v("请修改用例: ")]),n("button",{staticClass:"btn-close",attrs:{type:"button","data-bs-dismiss":"modal"}})])}],I=(n("7f7f"),{data:function(){return{case_list:[],chose_case:{}}},mounted:function(){var t=this;h()({url:"http://localhost:8000/get_cases/"}).then((function(e){t.case_list=e.data.cases,t.$emit("upc",{now_cases_count:now_cases_count})}))},methods:{tj_cases_count:function(){var t=$('input[name="ccc"]:checked');this.$emit("upc",{now_cases_count:t.length})},add_cases:function(){var t=this;h()({url:"http://localhost:8000/add_cases/"}).then((function(e){t.case_list=e.data.cases}))},del_cases:function(t){var e=this;h.a.get("http://localhost:8000/del_cases/",{params:{cases_id:t}}).then((function(t){e.case_list=t.data.case}))},set_cases:function(t){this.chose_case=this.case_list[t]},save_cases:function(){h.a.get("http://localhost:8000/save_cases/",{params:{case_id:this.chose_case.id,new_name:this.chose_case.name,new_level:this.chose_case.level}}).then((function(t){document.getElementById("form_cases").submit()}))}}}),z=I,L=Object(o["a"])(z,T,A,!1,null,"d0f67ae0",null),B=L.exports,J=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},U=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("button",[t._v("选择数据1")]),n("button",[t._v("选择数据2")])])}],q={name:"Date"},G=q,R=Object(o["a"])(G,J,U,!1,null,"f22e6116",null),F=R.exports,H=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},K=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("button",[t._v("选择debug")]),n("button",[t._v("选择release")])])}],Q={name:"Apk"},V=Q,W=Object(o["a"])(V,H,K,!1,null,"234146a8",null),X=W.exports,Y={data:function(){return{task_if_value:!1,now_deviceName:"",now_env:"",now_cases_count:""}},methods:{help_shown:function(){alert("有问题请联系xxx")},task_btn:function(){this.task_if_value=!this.task_if_value},upd:function(t){this.now_deviceName=t.now_deviceName},upe:function(t){this.now_env=t.now_env},upc:function(t){this.now_cases_count=t.now_cases_count}},components:{Apk:X,Date:F,Case:B,Env:M,Task:E,Device:g}},Z=Y,tt=(n("f4cd"),Object(o["a"])(Z,d,_,!1,null,null,null)),et=tt.exports;a["a"].use(u["a"]);var nt=new u["a"]({routes:[{path:"/",name:"home",component:et},{path:"/about",name:"about",component:function(){return n.e("about").then(n.bind(null,"f820"))}}]});n("7b17"),n("ab8b"),n("3e48");a["a"].config.productionTip=!1,new a["a"]({router:nt,render:function(t){return t(l)}}).$mount("#app")},b2fb:function(t,e,n){},c4d3:function(t,e,n){},f182:function(t,e,n){},f4cd:function(t,e,n){"use strict";n("c4d3")},fcc1:function(t,e,n){"use strict";n("f182")}});
//# sourceMappingURL=app.6a2edcc6.js.map