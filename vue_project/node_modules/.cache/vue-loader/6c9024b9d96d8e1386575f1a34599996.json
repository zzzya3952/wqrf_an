{"remainingRequest":"E:\\Automation\\wqrf_an\\vue_project\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\Automation\\wqrf_an\\vue_project\\src\\components\\Case.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\Automation\\wqrf_an\\vue_project\\src\\components\\Case.vue","mtime":1649083143219},{"path":"E:\\Automation\\wqrf_an\\vue_project\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1648644241915},{"path":"E:\\Automation\\wqrf_an\\vue_project\\node_modules\\babel-loader\\lib\\index.js","mtime":1648644242425},{"path":"E:\\Automation\\wqrf_an\\vue_project\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1648644241915},{"path":"E:\\Automation\\wqrf_an\\vue_project\\node_modules\\vue-loader\\lib\\index.js","mtime":1648644243055}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport axios from 'axios'\nexport default {\n    data(){\n        return{\n            case_list:[],\n            chose_case:{},\n        }\n    },\n    mounted:function () {\n        axios({\n            url:'http://localhost:8000/get_cases/'\n        }).then(res=>{\n            this.case_list = res.data.cases;\n            var now_case_ids = [];\n            for(var i in this.case_list){\n                now_case_ids.push(this.case_list[i].id.toString())\n            }\n            this.$emit('upc',{now_cases_count:this.case_list.length,now_case_ids:now_case_ids})\n        })\n    },\n    methods:{\n        tj_cases_count(){\n            var all_chose_case = $('input[name=\"cccc\"]:checked');\n            var now_case_ids = [];\n            for(var i=0;i<all_chose_case.length;i++){\n                now_case_ids.push(all_chose_case[i].value)\n            }\n            this.$emit('upc',{now_cases_count:all_chose_case.length,now_case_ids:now_case_ids})\n        },\n        add_cases(){\n            axios({\n                url:\"http://localhost:8000/add_cases/\"\n            }).then(res=>{\n                this.case_list = res.data.cases\n            })\n        },\n        del_cases(case_id){\n            axios.get(\"http://localhost:8000/del_cases/\",{\n                params:{\n                    case_id : case_id\n                }\n            }).then(res=>{\n                this.case_list = res.data.cases\n            })\n        },\n        deepCopy(obj) {\n          var a = JSON.stringify(obj);\n          var newobj = JSON.parse(a);\n          return newobj\n        },\n        set_cases(index){\n           this.chose_case = this.deepCopy(this.case_list[index])\n        },\n        save_cases(){\n            axios.get('http://localhost:8000/save_cases/',{\n                params:{\n                    case_id:this.chose_case.id,\n                    new_name:this.chose_case.name,\n                    new_level:this.chose_case.level,\n\n                }\n            }).then(res=>{\n                document.getElementById('form_cases').submit();\n            })\n        },\n        check_ifut(){\n            this.chose_case.ifut = event.target.checked;\n        }\n    }\n}\n",{"version":3,"sources":["Case.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Case.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n    <div>\r\n        <table class=\"table table-striped table-bordered\" style=\"text-align: center\">\r\n            <thead>\r\n                <tr>\r\n                    <th>选中</th>\r\n                    <th>用例名称</th>\r\n                    <th>重要等级</th>\r\n                    <th>Unittest</th>\r\n                    <th><button @click=\"add_cases()\" class=\"btn btn-outline-primary btn-sm\">添加新脚本</button></th>\r\n                </tr>\r\n            </thead>\r\n\r\n            <tbody>\r\n                <tr v-for=\"(i,index) in case_list\">\r\n                    <td><input @click=\"tj_cases_count\" type=\"checkbox\" name=\"cccc\" class=\"form-check-input\" :value=\"i.id\" checked></td>\r\n                    <td>{{i.name}}</td>\r\n                    <td>{{i.level}}</td>\r\n                    <td>{{i.ifut}}</td>\r\n                    <td>\r\n                        <button @click=\"set_cases(index)\" data-bs-toggle=\"modal\" data-bs-target=\"#myModal\" class=\"btn btn-outline-success btn-sm\">设置</button>\r\n                        &nbsp;\r\n                        <button @click=\"del_cases(i.id)\" class=\"btn btn-outline-danger btn-sm\">删除</button>\r\n                    </td>\r\n                </tr>\r\n\r\n            </tbody>\r\n        </table>\r\n\r\n        <!-- 模态框 -->\r\n        <div class=\"modal fade\" id=\"myModal\">\r\n          <div class=\"modal-dialog modal-lg modal-dialog-centered\">\r\n            <div class=\"modal-content\">\r\n\r\n              <!-- 模态框头部 -->\r\n              <div class=\"modal-header\">\r\n                <h4 class=\"modal-title\">请修改用例: </h4>\r\n                <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\"></button>\r\n              </div>\r\n\r\n              <!-- 模态框内容 -->\r\n              <div class=\"modal-body\">\r\n                name:\r\n                  <input type=\"text\" class=\"form-control\" placeholder=\"用例名称\" v-model=\"chose_case.name\"> <br>\r\n                level:\r\n                  <input type=\"text\" class=\"form-control\" placeholder=\"重要性\" v-model=\"chose_case.level\"> <br>\r\n                unittest:\r\n                  <input type=\"checkbox\" class=\"form-check-input\" :checked=\"chose_case.ifut\" @click=\"check_ifut()\">\r\n                  <br><br>\r\n                script: <span style=\"font-size: xx-small;color: gray\">（当前脚本为：{{chose_case.script}}）</span>\r\n                  <form id=\"form_cases\" :action=\"'http://localhost:8000/upload_case/'+chose_case.id+'/'\" method=\"post\" enctype=\"multipart/form-data\">\r\n                      <input type=\"file\" name=\"upload_case_script\" class=\"btn btn-outline-secondary btn-sm\">\r\n                  </form>\r\n              </div>\r\n\r\n              <!-- 模态框底部 -->\r\n              <div class=\"modal-footer\">\r\n                <button @click=\"save_cases\" type=\"button\" class=\"btn btn-success\" data-bs-dismiss=\"modal\">保存</button>\r\n              </div>\r\n\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import axios from 'axios'\r\n    export default {\r\n        data(){\r\n            return{\r\n                case_list:[],\r\n                chose_case:{},\r\n            }\r\n        },\r\n        mounted:function () {\r\n            axios({\r\n                url:'http://localhost:8000/get_cases/'\r\n            }).then(res=>{\r\n                this.case_list = res.data.cases;\r\n                var now_case_ids = [];\r\n                for(var i in this.case_list){\r\n                    now_case_ids.push(this.case_list[i].id.toString())\r\n                }\r\n                this.$emit('upc',{now_cases_count:this.case_list.length,now_case_ids:now_case_ids})\r\n            })\r\n        },\r\n        methods:{\r\n            tj_cases_count(){\r\n                var all_chose_case = $('input[name=\"cccc\"]:checked');\r\n                var now_case_ids = [];\r\n                for(var i=0;i<all_chose_case.length;i++){\r\n                    now_case_ids.push(all_chose_case[i].value)\r\n                }\r\n                this.$emit('upc',{now_cases_count:all_chose_case.length,now_case_ids:now_case_ids})\r\n            },\r\n            add_cases(){\r\n                axios({\r\n                    url:\"http://localhost:8000/add_cases/\"\r\n                }).then(res=>{\r\n                    this.case_list = res.data.cases\r\n                })\r\n            },\r\n            del_cases(case_id){\r\n                axios.get(\"http://localhost:8000/del_cases/\",{\r\n                    params:{\r\n                        case_id : case_id\r\n                    }\r\n                }).then(res=>{\r\n                    this.case_list = res.data.cases\r\n                })\r\n            },\r\n            deepCopy(obj) {\r\n              var a = JSON.stringify(obj);\r\n              var newobj = JSON.parse(a);\r\n              return newobj\r\n            },\r\n            set_cases(index){\r\n               this.chose_case = this.deepCopy(this.case_list[index])\r\n            },\r\n            save_cases(){\r\n                axios.get('http://localhost:8000/save_cases/',{\r\n                    params:{\r\n                        case_id:this.chose_case.id,\r\n                        new_name:this.chose_case.name,\r\n                        new_level:this.chose_case.level,\r\n\r\n                    }\r\n                }).then(res=>{\r\n                    document.getElementById('form_cases').submit();\r\n                })\r\n            },\r\n            check_ifut(){\r\n                this.chose_case.ifut = event.target.checked;\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>"]}]}